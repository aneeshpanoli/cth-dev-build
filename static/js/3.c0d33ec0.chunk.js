(this.webpackJsonpcivictechhub=this.webpackJsonpcivictechhub||[]).push([[3],{820:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var r=a(9),n=a(0),l=a.n(n),o=a(121),i=a(391),c=a(75),s=a(70),u=(a(159),a(238)),m=a(395),d=a(13),b=a(28),p=(a(92),a(191)),h=(a(94),a(99),a(782)),g=a.n(h),f=a(732),E=a.n(f),y=a(783),v=a.n(y),k=a(187),j=a(754),x=Object(o.a)((function(e){return{root:{minWidth:"100%",border:"1px solid #E8E8E8",borderRadius:15},media:{maxHeight:"auto",maxWidth:"100%",minHeight:"5rem",minWidth:"5rem",objectFit:"cover",borderRadius:5},avatar:{backgroundColor:"transparent",width:"1.4rem",height:"1.4rem"},overlay:{position:"absolute",top:"56.25%",left:"1.2rem",color:"black",backgroundColor:"transparent"},header:{backgroundColor:e.palette.primary.main,color:"white",height:"0.2rem"},button:{borderRadius:20,backgroundColor:e.palette.secondary.main,textTransform:"none",position:"absolute",left:"62%",textAlign:"middle",transform:"translateX(-50%)",width:"8rem"},chipGrey:{backgroundColor:"silver"},chipGreen:{backgroundColor:e.palette.safe},chipRed:{backgroundColor:e.palette.danger},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"}}}));function O(e){var t=Object(b.f)(),a=Object(u.a)(),o=x(),h=Object(n.useState)(!0),f=Object(r.a)(h,1)[0],y=Object(n.useState)(!1),O=Object(r.a)(y,2),T=O[0],w=O[1],W=l.a.useState([]),N=Object(r.a)(W,2),C=(N[0],N[1]),_=l.a.useState([]),R=Object(r.a)(_,2),S=(R[0],R[1]);Object(m.a)().authData;l.a.useEffect((function(){e.r&&e.r._source.downvotes&&S(e.r._source.downvotes),e.r&&e.r._source.upvotes&&C(e.r._source.upvotes)}),[e]);var D=l.a.createElement("span",{className:o.bullet},"\u2022");return l.a.createElement(i.a,{timeout:600,in:f,key:e.r._id,style:{transitionDelay:f?"300ms":"0ms"}},l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{item:!0,md:12,sm:12,xs:12,align:"left",noW:!0},l.a.createElement(c.a,{item:!0,xs:12},l.a.createElement(E.a,{style:{marginRight:"1rem"}}),l.a.createElement(p.a,{onMouseMove:function(){return w(!0)},onMouseDown:function(){return w(!1)},onMouseUp:function(){return r=e.r,console.log(r),void(r&&!T&&(a(Object(d.k)(r)),t.push("/"+r._source.projTitle.replace(/\s+/g,"-")+"/"+r._source.mtTitle.replace(/\s+/g,"-")+"/"+r._source.title.replace(/\s+/g,"-")+"/"+r._id)));var r},style:{textDecoration:"none",cursor:"pointer"}},l.a.createElement(s.a,{component:"span",style:{fontWeight:700,fontSize:"1.2rem"}},e.r._source.title," ",D," ",l.a.createElement(s.a,{variant:"body2",component:"span"},e.r._source.category?e.r._source.category:null))),l.a.createElement(s.a,{style:{marginLeft:"2.5rem"}},e.r._source.subtitle?e.r._source.subtitle:null),l.a.createElement(k.a,{size:"small",style:{marginLeft:"1rem",color:"silver"}},l.a.createElement(g.a,null)),l.a.createElement(k.a,{size:"small",style:{marginLeft:"auto 1.5rem",color:"silver"}},l.a.createElement(v.a,null)),l.a.createElement(j.a,{selectedProject:e.r,style:{marginLeft:"auto 1.5rem",color:"silver"}}))),l.a.createElement(c.a,{item:!0,xs:12},l.a.createElement("hr",null))))}},821:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var r=a(7),n=a(29),l=a(50),o=a(9),i=a(0),c=a.n(i),s=a(28),u=a(147),m=a(273),d=a(75),b=a(70),p=a(121),h=a(395),g=a(238),f=a(18),E=a(247),y=a.n(E),v=a(705),k=a(110),j=a(248),x=a(250),O=a(133),T=a.n(O),w=a(99),W=a(13),N=Object(p.a)((function(e){return{chipRoot:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5),variant:"outlined",height:"1.5rem",color:e.palette.primary.main,border:"1px solid"},paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3),marginBottom:e.spacing(3)},submit:{margin:e.spacing(3,1,2),maxWidth:"8rem"},error:{color:"red"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function C(e){var t=c.a.useState({}),a=Object(o.a)(t,2),i=a[0],p=a[1],E=Object(s.f)(),O=N(),C=Object(h.a)().authData;c.a.useEffect((function(){C.user||E.push("/")}));var _=Object(g.a)(),R=c.a.useState(!1),S=Object(o.a)(R,2),D=S[0],L=S[1],M=c.a.useState(null),q=Object(o.a)(M,2),I=q[0],A=q[1],F=c.a.useState(null),z=Object(o.a)(F,2),H=z[0],U=z[1],B=c.a.useState(null),J=Object(o.a)(B,2),G=J[0],V=J[1],X=c.a.useState({builtWith:e.selectedMT._source.builtWith,category:e.selectedMT._source.category,country:"",createdAt:new Date,storyText:"",subtitle:"",owners:C&&C.user?C.user.id:"",video:"",hackathons:[],updatedAt:new Date,links:[],keywords:[],title:"",roles:[],mtId:e.selectedMT._id,mtTitle:e.selectedMT._source.title,projTitle:e.selectedMT._source.projectTitle,projId:e.selectedMT._source.projectId,rewards:"",crisis:"",language:"",approved:"no",completed:"no",claimed:"yes"}),K=Object(o.a)(X,2),P=K[0],Y=K[1],Q=function(e,t){var a=Object(l.a)(P[t]).filter((function(t){return t!==e}));Y(Object.assign({},P,Object(n.a)({},t,a)))},Z=function(e){var t=Object(l.a)(P.roles).filter((function(t){return t!==e}));Y(Object.assign({},P,{roles:t}))},$=function(e,t){Y(Object(r.a)(Object(r.a)({},P),{},Object(n.a)({},t,e.target.value)))},ee=function(e,t){Y(Object(r.a)(Object(r.a)({},P),{},Object(n.a)({},e,t)))};c.a.useEffect((function(){var e;p(function(e){var t={};if(e.title?e.title.length<4?t.title="The title should be atleast 4 characters long":e.title.length>60?t.title="The title should be less than 60 characters":/[*._%+-?]+/i.test(e.title)&&(t.title="Invalid characters in the title*"):t.title="Required",e.subtitle?e.subtitle.length<60&&(t.subtitle="The description should be atleast 60 characters long"):t.subtitle="Required",e.storyText?e.storyText.length<60&&(t.storyText="The description should be atleast 60 characters long"):t.storyText="Required",e.category||(t.category="Required"),0!==e.roles.length&&e.roles||(t.roles="Required"),e.links&&e.links.length>0)try{new URL(e.links.slice(-1))}catch(a){t.links="Not a valid url"}return 0!==e.keywords.length&&e.keywords||(t.keywords="Required"),0!==e.builtWith.length&&e.builtWith||(t.builtWith="Required"),e.image||(t.image="Required"),t}(Object(r.a)(Object(r.a)({},P),{},{image:!!I}))),V((e=P,c.a.createElement("div",{className:O.chipRoot},e.roles.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement(w.a,{label:e,onDelete:function(){return Z(e)},onClick:function(){return Z(e)},className:O.chip}))})))))}),[P,I]);return c.a.createElement(c.a.Fragment,null,D?c.a.createElement("div",null,c.a.createElement("div",{style:{width:"100%",height:"3rem",textAlign:"center",backgroundColor:"#061F71",color:"white"}},c.a.createElement("h3",null,"Thank you!")),c.a.createElement("h5",{style:{fontWeight:400}},"Your Microtask has been submitted.")):c.a.createElement("div",{className:O.paper},c.a.createElement(b.a,{component:"h1",variant:"h5"}),c.a.createElement("form",{className:O.form,noValidate:!0,onSubmit:function(e){return e.preventDefault(),!1}},c.a.createElement(d.a,{container:!0,spacing:2},c.a.createElement(d.a,{item:!0,xs:12},i.title?c.a.createElement("sup",{className:O.error},i.title):c.a.createElement("sup",{className:O.error},""),c.a.createElement(m.a,{variant:"standard",required:!0,fullWidth:!0,multiline:!0,id:"title",label:"Solution title",name:"title",autoComplete:"none",onChange:function(e){return $(e,"title")},value:P.title})),c.a.createElement(d.a,{item:!0,xs:12},i.image?c.a.createElement("sup",{className:O.error},i.image):c.a.createElement("sup",{className:O.error},""),c.a.createElement(j.a,{onSave:function(e){U(e[0].file),console.log(e[0].file.path);var t=new FileReader;t.onloadend=function(){A(t.result),console.log(I)},t.readAsDataURL(e[0].file)},acceptedFiles:["image/jpeg","image/png","image/bmp"]}),I?c.a.createElement(d.a,{item:!0,xs:12},c.a.createElement("img",{src:I,alt:"title-image",style:{maxHeight:"400px",marginTop:"1rem",maxWidth:"100%"}})):null),c.a.createElement(d.a,{item:!0,xs:12},i.subtitle?c.a.createElement("sup",{className:O.error},i.subtitle):c.a.createElement("sup",{className:O.error},""),c.a.createElement(m.a,{variant:"standard",required:!0,fullWidth:!0,id:"subtitle",label:"Subtitle",name:"subtitle",onChange:function(e){return $(e,"subtitle")},value:P.subtitle})),c.a.createElement(d.a,{item:!0,xs:12},i.storyText?c.a.createElement("sup",{className:O.error},i.storyText):c.a.createElement("sup",{className:O.error},""),c.a.createElement("div",{style:{borderBottom:"1px solid grey",minHeight:"4rem"}},c.a.createElement(y.a,{label:"Description *",id:"storyText",name:"storyText",controls:["bold","italic","underline","bulletList","quote","code","link"],toolbarButtonSize:"small",onChange:function(e){return ee("storyText",Object(x.a)({styleToHTML:function(e){if("BOLD"===e)return c.a.createElement("span",{style:{color:"blue"}})},blockToHTML:function(e){if("code-block"===e.type)return c.a.createElement("code",null)},entityToHTML:function(e,t){try{new URL(e.data.url)}catch(a){return t+" ("+e.data.url+")"}return"LINK"===e.type?c.a.createElement("a",{href:e.data.url,target:"_blank"},t):t}})(e.getCurrentContent()))}}))),c.a.createElement(d.a,{item:!0,xs:12},i.category?c.a.createElement("sup",{className:O.error},i.category):c.a.createElement("sup",{className:O.error},""),c.a.createElement(v.a,{id:"combo-box-demo",options:k.a,getOptionLabel:function(e){return e.category},fullWidth:!0,onChange:function(e,t){ee("category",t?t.category:"")},renderInput:function(e){return c.a.createElement(m.a,Object.assign({},e,{label:"Category",variant:"standard"}))}})),c.a.createElement(d.a,{item:!0,xs:12},i.roles?c.a.createElement("sup",{className:O.error},i.roles):c.a.createElement("sup",{className:O.error},""),G,c.a.createElement(v.a,{id:"role",options:k.c,getOptionLabel:function(e){return e.role},fullWidth:!0,onChange:function(e,t){ee("roles",t&&!P.roles.includes(t.role)?Object(l.a)(P.roles).concat([t.role]):Object(l.a)(P.roles))},renderInput:function(e){return c.a.createElement(m.a,Object.assign({},e,{label:"Skills needed*",variant:"standard"}))}})),c.a.createElement(d.a,{item:!0,xs:12},i.links?c.a.createElement("sup",{className:O.error},i.links):c.a.createElement("sup",{className:O.error},""),c.a.createElement(T.a,{value:P.links,classes:{chip:O.chip},fullWidth:!0,label:"Important links (press enter to add more than one link)",onAdd:function(e){ee("links",Object(l.a)(P.links).concat([e]))},onDelete:function(e,t){return Q(e,"links")}})),c.a.createElement(d.a,{item:!0,xs:12},i.builtWith?c.a.createElement("sup",{className:O.error},i.builtWith):c.a.createElement("sup",{className:O.error},""),c.a.createElement(T.a,{classes:{chip:O.chip},value:P.builtWith,fullWidth:!0,label:"Technology (press enter to add more than one technologies)",onAdd:function(e){ee("builtWith",Object(l.a)(P.builtWith).concat([e]))},onDelete:function(e,t){return Q(e,"builtWith")}})),c.a.createElement(d.a,{item:!0,xs:12},i.keywords?c.a.createElement("sup",{className:O.error},i.keywords):c.a.createElement("sup",{className:O.error},""),c.a.createElement(T.a,{classes:{chip:O.chip},value:P.keywords,fullWidth:!0,label:"Tags (press enter to add more than one keyword)",onAdd:function(e){ee("keywords",Object(l.a)(P.keywords).concat([e]))},onDelete:function(e,t){return Q(e,"keywords")}})),c.a.createElement(d.a,{item:!0,xs:12},i.video?c.a.createElement("sup",{className:O.error},i.video):c.a.createElement("sup",{className:O.error},""),c.a.createElement(m.a,{variant:"standard",fullWidth:!0,name:"videourl",label:"Video url",type:"text",id:"videoUrl",autoComplete:"current-password",onChange:function(e){return $(e,"video")},value:P.videoUrl}))),c.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:O.submit,onClick:e.openForm},"Cancel"),C.error?c.a.createElement("sub",{className:O.error},C.error):null,c.a.createElement(u.a,{onClick:function(){if(console.log(i),0!==!Object.keys(i).length){console.log("submitting data");var e={status:"mtsolution",index:"mtsolutions",q:P},t=new FormData;t.append("params",JSON.stringify(e)),t.append("image",H,H.path);Object(f.j)(t,C.key,E,P.title,(function(e){return _(Object(W.e)(e))})),L(!0)}else console.log("not submitting")},fullWidth:!0,variant:"contained",disabled:!!Object.keys(i)[0],color:"primary",className:O.submit},"Submit"),c.a.createElement(d.a,{container:!0,justify:"flex-end"},c.a.createElement(d.a,{item:!0})))))}},822:function(e,t,a){"use strict";a(7),a(0),a(9);var r=a(121);a(632),a(392),a(633),a(634),a(391),a(640),a(70),a(159),a(238),a(13),a(28),a(58),a(92),a(191),a(155),a(635),a(147),a(18),a(110);Object(r.a)((function(e){return{root:{minWidth:"100%",border:"1px solid #E8E8E8",borderRadius:15},media:{height:"8rem",width:"100%",paddingTop:"50%"},avatar:{backgroundColor:"transparent",width:"3rem",height:"3rem"},overlay:{position:"absolute",top:"56.25%",left:"1.2rem",color:"black",backgroundColor:"transparent"},header:{backgroundColor:e.palette.primary.main,color:"white",height:"0.2rem"},button:{borderRadius:20,backgroundColor:e.palette.secondary.main,textTransform:"none",position:"absolute",left:"50%",textAlign:"middle",transform:"translateX(-50%)",bottom:"0.8rem",width:"9rem",height:"2.5rem"}}}));a(697),a(403),a(404),a(818),a(696),a(395),Object(r.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}})}}]);
//# sourceMappingURL=3.c0d33ec0.chunk.js.map
(this.webpackJsonpcivictechhub=this.webpackJsonpcivictechhub||[]).push([[16],{1075:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return M}));var n=a(9),c=a(397),l=a(238),r=a(0),i=a.n(r),o=a(58),s=a(29),u=a(18),m=a(13),d=a(777),E=a(699),p=a(121),b=a(122),j=a(75),f=a(813),h=a(778),v=(a(823),a(757)),g=a.n(v),O=a(26),x=a(695),w=a(1067),_=a(1063),y=a(70),P=a(698),k=a(736),C=a.n(k),S=a(758),I=a(759),T=a(760);a(824),a(825);function D(e){var t=e.children,a=e.value,n=e.index,c=Object(h.a)(e,["children","value","index"]);return i.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),a===n&&i.a.createElement(P.a,{p:3},i.a.createElement(y.a,null,t)))}var N=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},tabPanel:{backgroundColor:"white"}}}));function A(e){var t,a=N(),l=Object(O.a)(),r=i.a.useState(0),o=Object(n.a)(r,2),u=o[0],m=o[1],d=Object(c.a)(),p=(d.authData,d.solutionList,i.a.useState(!1)),b=Object(n.a)(p,2);b[0],b[1],Object(s.f)();return i.a.createElement("div",{className:a.root},i.a.createElement(x.a,{position:"static",color:"default"},i.a.createElement(w.a,{value:u,onChange:function(e,t){m(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example"},i.a.createElement(_.a,Object.assign({label:"Details"},{id:"full-width-tab-".concat(t=0),"aria-controls":"full-width-tabpanel-".concat(t)})))),i.a.createElement(g.a,{axis:"rtl"===l.direction?"x-reverse":"x",index:u,onChangeIndex:function(e){m(e)}},i.a.createElement(D,{value:u,index:0,dir:l.direction,className:a.tabPanel},e.selectedProject?i.a.createElement(E.a,null,i.a.createElement(j.a,{container:!0},i.a.createElement(j.a,{item:!0,md:12,sm:12,xs:12},i.a.createElement("h4",{style:{margin:"0 auto",textAlign:"left"}},"Solution details"),i.a.createElement("hr",null),i.a.createElement(y.a,{variant:"body1"},C()(e.selectedProject?e.selectedProject._source.storyText:null))),i.a.createElement(j.a,{item:!0,sm:12,md:12,xs:12},i.a.createElement("h2",null,"Files")),i.a.createElement(j.a,{item:!0,sm:12,md:6,xs:12},i.a.createElement(I.a,{selectedProject:e.selectedProject})),i.a.createElement(j.a,{item:!0,sm:12,md:6,xs:12},i.a.createElement(S.a,{selectedProject:e.selectedProject}),i.a.createElement(T.a,{selectedProject:e.selectedProject})))):null)))}var F=a(761),L=a(770),B=a(147),J=a(187),H=a(95),R=a.n(H),q=a(629),G=a(696),W=a(244),Y=a.n(W),z=a(72),K=Object(p.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),color:e.palette.text.secondary},appBar:{top:"auto",bottom:0}}}));function M(){var e=K(),t=Object(s.f)(),a=Object(r.useRef)(null),p=i.a.useState(!1),h=Object(n.a)(p,2),v=h[0],g=h[1],O=i.a.useState(),w=Object(n.a)(O,2),_=w[0],y=w[1],k=i.a.useState(),C=Object(n.a)(k,2),S=(C[0],C[1]),I=i.a.useState(!0),T=Object(n.a)(I,2),D=T[0],N=T[1],H=Object(c.a)(),W=H.selectedSolution,M=H.authData,Q=H.microtaskList,U=Object(s.g)(),V=Object(l.a)();Object(r.useEffect)((function(){if(W&&W._source.mtTitle){var e=Object(o.d)(W._id,"solutions");Object(u.o)(e,V,m.e),M&&M.user&&function(){var e={index:"activity",q:{categoryName:"solution",activity:"visited",docId:W._id,title:W._source.title,projectTitle:W._source.projectTitle,projectId:W._source.projectId,userId:M.user.id,username:M.user.username,createdAt:new Date}},t=new FormData;t.append("params",JSON.stringify(e)),Object(u.c)(t,M.key,null)}()}else!function(e,a,n){var c=Object(o.c)(e,a,n);Object(u.l)(c,V,m.k,t)}(U.id,U.mtsol.replace(/-/g," "),"solutions");y(W),N(M._source&&W&&W._source.upvotes?!W._source.upvotes.includes(M._source.id)&&!W._source.downvotes.includes(M._source.id):null)}),[W]);var X=R()((function(){a&&a.current&&D&&a.current.getBoundingClientRect().top<1*window.innerHeight/2&&(M.isAuthenticated,g(!0))}),100);return i.a.useEffect((function(){return window.addEventListener("scroll",X),function(){window.removeEventListener("scroll",X)}}),[]),Object(r.useEffect)((function(){S(Q)}),[Q]),i.a.createElement(P.a,null,i.a.createElement(z.a,{title:_?_._source.projectTitle+": "+_._source.title+" - CivicTechHub":null,description:_?_._source.subtitle:null,image:_?_._source.image:null}),_?i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{selectedProject:_}),i.a.createElement(A,{selectedProject:_}),i.a.createElement(E.a,null,i.a.createElement(j.a,{container:!0,spacing:2},i.a.createElement(j.a,{item:!0,sm:12,xs:12,ref:a},i.a.createElement(b.a,{className:e.paper},i.a.createElement("h4",null,"Comments"),i.a.createElement(f.a,null),U.id?i.a.createElement(i.a.Fragment,null,i.a.createElement(L.a,{projectId:U.id}),i.a.createElement(f.a,null)):null,M.isAuthenticated&&U.id?i.a.createElement(F.a,{projectId:U.id}):i.a.createElement("h5",null,"Please ",i.a.createElement(B.a,{href:"/sign-in"},"sign in ")," to post comments")))))):null,D?i.a.createElement(q.a,{in:v,direction:"up"},i.a.createElement(x.a,{position:"fixed",color:"secondary",className:e.appBar},i.a.createElement(G.a,null,i.a.createElement(E.a,null,i.a.createElement(j.a,{container:!0,spacing:2},i.a.createElement(j.a,{item:!0,sm:6,md:6,xs:12},i.a.createElement("h3",null,"Do you like this project? ")),i.a.createElement(j.a,{item:!0,sm:6,md:6,xs:12},"Your feedback will help us to identify the most promising projects. Thank you!"))),i.a.createElement(J.a,{onClick:function(){g(!1)}},i.a.createElement(Y.a,null))))):null)}}}]);
//# sourceMappingURL=16.2e727c34.chunk.js.map
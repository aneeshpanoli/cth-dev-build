(this.webpackJsonpcivictechhub=this.webpackJsonpcivictechhub||[]).push([[11],{1074:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return $}));var n=a(9),l=a(398),c=a(238),r=a(0),i=a.n(r),o=a(58),s=a(29),u=a(18),m=a(13),d=a(778),E=a(700),p=a(121),f=a(122),h=a(75),b=a(814),v=a(779),j=a(824),g=a(758),x=a.n(g),O=a(26),y=a(696),w=a(1067),_=a(1063),T=a(70),k=a(699),P=a(737),C=a.n(P),S=a(759),M=a(760),I=a(761),A=a(825),N=a(631),D=(a(826),a(738)),L=a.n(D),F=a(147);function q(e){var t=e.children,a=e.value,n=e.index,l=Object(v.a)(e,["children","value","index"]);return i.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},l),a===n&&i.a.createElement(k.a,{p:3},i.a.createElement(T.a,{component:"div"},t)))}function z(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var B=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},tabPanel:{backgroundColor:"white"}}}));function H(e){var t=B(),a=Object(O.a)(),c=i.a.useState(0),r=Object(n.a)(c,2),o=r[0],u=r[1],m=Object(l.a)().authData,d=i.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],v=Object(s.f)(),g=function(){m.isAuthenticated?b(!f):v.push("/sign-in")};return i.a.createElement("div",{className:t.root},i.a.createElement(y.a,{position:"static",color:"default"},i.a.createElement(w.a,{value:o,onChange:function(e,t){u(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example"},i.a.createElement(_.a,Object.assign({label:"Details"},z(0))),i.a.createElement(_.a,Object.assign({label:"Solutions"},z(1))))),i.a.createElement(x.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:o,onChangeIndex:function(e){u(e)}},i.a.createElement(q,{value:o,index:0,dir:a.direction,className:t.tabPanel},e.selectedMT?i.a.createElement(E.a,null,i.a.createElement(h.a,{container:!0},i.a.createElement(h.a,{item:!0,md:12,sm:12,xs:12},i.a.createElement("h4",{style:{margin:"0 auto",textAlign:"left"}},"Task details"),i.a.createElement("hr",null),i.a.createElement(T.a,{variant:"body1",component:"span"},C()(e.selectedMT?e.selectedMT._source.storyText:null))),i.a.createElement(h.a,{item:!0,sm:12,md:12,xs:12},i.a.createElement("h2",null,"Files")),i.a.createElement(h.a,{item:!0,sm:12,md:6,xs:12},i.a.createElement(M.a,{selectedProject:e.selectedProject})),i.a.createElement(h.a,{item:!0,sm:12,md:6,xs:12},i.a.createElement(S.a,{selectedProject:e.selectedProject}),i.a.createElement(I.a,{selectedProject:e.selectedProject})))):null),i.a.createElement(q,{value:o,index:1,dir:a.direction,className:t.tabPanel},i.a.createElement(E.a,null,i.a.createElement("h4",{style:{margin:"0 auto",textAlign:"left"}},"Submitted solutions"),i.a.createElement("hr",null),i.a.createElement(h.a,{container:!0,spacing:1},i.a.createElement(h.a,{item:!0,sm:12,md:12,xs:12},i.a.createElement(L.a,{style:{marginRight:"0.6rem"}}),i.a.createElement(F.a,{onClick:g,variant:"text",style:{textTransform:"none",fontWeight:700,fontSize:"1.2rem"}},"  ","Submit a solution")),i.a.createElement(N.a,{in:f,timeout:"auto",unmountOnExit:!0},i.a.createElement(h.a,{item:!0,sm:12,md:12,xs:12},i.a.createElement(A.a,{openForm:g,selectedMT:e.selectedMT}))),i.a.createElement(h.a,{item:!0,sm:12,md:12,xs:12},e.solutionsList&&e.solutionsList[0]&&e.solutionsList.map((function(e,t){return i.a.createElement(j.a,{key:t,r:e})}))))))))}var J=a(762),R=a(771),W=a(187),G=a(95),V=a.n(G),Y=a(630),K=a(697),Q=a(244),U=a.n(Q),X=a(72),Z=(a(25),Object(p.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),color:e.palette.text.secondary},appBar:{top:"auto",bottom:0}}})));function $(){var e=Z(),t=Object(s.f)(),a=Object(r.useRef)(null),p=i.a.useState(!1),v=Object(n.a)(p,2),j=v[0],g=v[1],x=i.a.useState(!0),O=Object(n.a)(x,2),w=O[0],_=O[1],T=Object(l.a)(),P=T.selectedMT,C=T.authData,S=i.a.useState(),M=Object(n.a)(S,2),I=M[0],A=M[1],N=Object(s.g)(),D=Object(c.a)();Object(r.useEffect)((function(){P&&P._source.projectTitle?(function(){console.log(P);var e={params:{index:"solutions",q:{size:20,query:{constant_score:{filter:{term:{mtId:P._id}}}}}}};console.log(e),u.d.get("/q/",e).then((function(e){console.log(e.data.hits),A(e.data.hits.hits)})).catch((function(e){return console.log(e),e}))}(),C&&C.user&&function(){var e={index:"activity",q:{categoryName:"microtask",activity:"visited",docId:P._id,title:P._source.title,projectTitle:P._source.projectTitle,projectId:P._source.projectId,userId:C.user.id,username:C.user.username,createdAt:new Date}},t=new FormData;t.append("params",JSON.stringify(e)),Object(u.c)(t,C.key,null)}()):function(e,a,n){var l=Object(o.c)(e,a,n);Object(u.l)(l,D,m.i,t)}(N.id,N.mt.replace(/-/g," "),"microtasks"),_(C._source&&P&&P._source.upvotes?!P._source.upvotes.includes(C._source.id)&&!P._source.downvotes.includes(C._source.id):null)}),[P]);var L=V()((function(){a&&a.current&&w&&a.current.getBoundingClientRect().top<1*window.innerHeight/2&&(C.isAuthenticated,g(!0))}),100);return i.a.useEffect((function(){return window.addEventListener("scroll",L),function(){window.removeEventListener("scroll",L)}}),[]),i.a.createElement(k.a,null,i.a.createElement(X.a,{title:P?P._source.projectTitle+": "+P._source.title+" - CivicTechHub":null,description:P?P._source.subtitle:null,image:P?P._source.image:null}),P?i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{selectedProject:P}),i.a.createElement(H,{selectedMT:P,solutionsList:I}),i.a.createElement(E.a,null,i.a.createElement(h.a,{container:!0,spacing:2},i.a.createElement(h.a,{item:!0,sm:12,xs:12,ref:a},i.a.createElement(f.a,{className:e.paper},i.a.createElement("h4",null,"Comments"),i.a.createElement(b.a,null),N.id?i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{projectId:N.id}),i.a.createElement(b.a,null)):null,C.isAuthenticated&&N.id?i.a.createElement(J.a,{projectId:N.id}):i.a.createElement("h5",null,"Please ",i.a.createElement(F.a,{href:"/sign-in"},"sign in ")," to post comments")))))):null,w?i.a.createElement(Y.a,{in:j,direction:"up"},i.a.createElement(y.a,{position:"fixed",color:"secondary",className:e.appBar},i.a.createElement(K.a,null,i.a.createElement(E.a,null,i.a.createElement(h.a,{container:!0,spacing:2},i.a.createElement(h.a,{item:!0,sm:6,md:6,xs:12},i.a.createElement("h3",null,"Do you like this project? ")),i.a.createElement(h.a,{item:!0,sm:6,md:6,xs:12},"Your feedback will help us to identify the most promising projects. Thank you!"))),i.a.createElement(W.a,{onClick:function(){g(!1)}},i.a.createElement(U.a,null))))):null)}},738:function(e,t,a){"use strict";var n=a(10);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),c=(0,n(a(16)).default)(l.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined");t.default=c}}]);
//# sourceMappingURL=11.67acb597.chunk.js.map